/**
 * Custom hook for honeypot bot detection
 * @param {function} onBotDetected - Optional callback when bot is detected
 * @returns {object} { honeypotValue, handleHoneypotChange, isBotDetected }
 */

export function useHoneypot(onBotDetected) {
    const [honeypotValue, setHoneypotValue] = React.useState("");
    const [isBotDetected, setIsBotDetected] = React.useState(false);

    const handleHoneypotChange = React.useCallback((e) => {
        const value = e.target.value;
        setHoneypotValue(value);

        // If any value is entered, it's a bot
        if (value.trim() !== "") {
            setIsBotDetected(true);
            if (onBotDetected) {
                onBotDetected(value);
            }
        } else {
            setIsBotDetected(false);
        }
    }, [onBotDetected]);

    return {
        honeypotValue,
        handleHoneypotChange,
        isBotDetected,
    };
}